{"ast":null,"code":"import _toConsumableArray from\"/Users/tola/Downloads/Elites/elitesDemo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/tola/Downloads/Elites/elitesDemo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{ADD_TO_CART,DECREMENT_QTY,REMOVE_FROM_CART}from'../../actionTypes';var INIT_STATE={cart:[]};export default(function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:INIT_STATE;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case ADD_TO_CART:var productId=action.payload.product.id;if(state.cart.findIndex(function(product){return product.id===productId;})!==-1){var cart=state.cart.reduce(function(cartAcc,product){if(product.id===productId){cartAcc.push(_objectSpread(_objectSpread({},product),{},{qty:product.qty+1,sum:product.price*(product.qty+1)}));}else{cartAcc.push(product);}return cartAcc;},[]);return _objectSpread(_objectSpread({},state),{},{cart:cart});}return _objectSpread(_objectSpread({},state),{},{cart:[].concat(_toConsumableArray(state.cart),[_objectSpread(_objectSpread({},action.payload.product),{},{qty:action.payload.qty,sum:action.payload.product.price*action.payload.qty})])});case DECREMENT_QTY:if(state.cart.findIndex(function(product){return product.id===action.productId;})!==-1){var _cart=state.cart.reduce(function(cartAcc,product){if(product.id===action.productId&&product.qty>1){cartAcc.push(_objectSpread(_objectSpread({},product),{},{qty:product.qty-1,sum:product.price*(product.qty-1)}));}else{cartAcc.push(product);}return cartAcc;},[]);return _objectSpread(_objectSpread({},state),{},{cart:_cart});}return _objectSpread(_objectSpread({},state),{},{cart:[].concat(_toConsumableArray(state.cart),[_objectSpread(_objectSpread({},action.product),{},{qty:action.qty,sum:action.product.price*action.qty})])});case REMOVE_FROM_CART:return{cart:state.cart.filter(function(item){return item.id!==action.product_id.id;})};default:return state;}});","map":{"version":3,"sources":["/Users/tola/Downloads/Elites/elitesDemo/src/redux/ecommerce/cart/reducer.jsx"],"names":["ADD_TO_CART","DECREMENT_QTY","REMOVE_FROM_CART","INIT_STATE","cart","state","action","type","productId","payload","product","id","findIndex","reduce","cartAcc","push","qty","sum","price","filter","item","product_id"],"mappings":"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","sourcesContent":["import {\n    ADD_TO_CART,\n    DECREMENT_QTY,\n    REMOVE_FROM_CART,\n} from '../../actionTypes';\n\nconst INIT_STATE = {\n    cart: [],\n};\nexport default (state = INIT_STATE, action) => {\n\n    switch (action.type) {\n        \n        case ADD_TO_CART:\n        const productId = action.payload.product.id\n        if (state.cart.findIndex(product => product.id === productId) !== -1) {\n            const cart = state.cart.reduce((cartAcc, product) => {\n                if (product.id === productId) {\n                    cartAcc.push({ ...product, qty: product.qty + 1, sum: (product.price) * (product.qty + 1) }) \n                } else {\n                    cartAcc.push(product)\n                }\n                return cartAcc\n            }, [])\n\n            return { ...state, cart }\n        }\n\n        return { ...state, cart: [...state.cart, { ...action.payload.product, qty: action.payload.qty, sum: (action.payload.product.price) * action.payload.qty }] }\n\n        case DECREMENT_QTY:\n            if (state.cart.findIndex(product => product.id === action.productId) !== -1) {\n                const cart = state.cart.reduce((cartAcc, product) => {\n                    if (product.id === action.productId && product.qty > 1) {\n                        cartAcc.push({ ...product, qty: product.qty - 1, sum: (product.price) * (product.qty - 1) }) \n                    } else {\n                        cartAcc.push(product)\n                    }\n                    return cartAcc\n                }, [])\n\n                return { ...state, cart }\n            }\n\n        return { ...state, cart: [...state.cart, { ...action.product, qty: action.qty, sum: action.product.price * action.qty }] }\n        \n\n        case REMOVE_FROM_CART:\n            return {\n                cart: state.cart.filter(item => item.id !== action.product_id.id)\n            }\n            \n        default:\n            return state;\n    }\n}"]},"metadata":{},"sourceType":"module"}