{"ast":null,"code":"import _slicedToArray from\"/Users/tola/Downloads/Elites/elitesDemo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,Fragment}from'react';import Breadcrumb from'../../../layout/breadcrumb';import{Container,Row,Col,Card,CardBody,Media,Form,FormGroup,Input,InputGroup,InputGroupAddon,Button,Nav,NavItem,NavLink,TabPane,TabContent}from'reactstrap';import{SEND_MESSAGE_WATCHER,REPLY_MESSAGE_WATCHER,CREATE_CHAT_WATCHER}from'../../../redux/actionTypes';import{useSelector,useDispatch}from'react-redux';import{changeChat,searchMember,watchfetchChatMember,watchfetchChat}from'../../../redux/chap-app/action';import four from'../../../assets/images/user/4.jpg';import one from'../../../assets/images/user/1.jpg';import two from'../../../assets/images/user/2.png';import errorImg from'../../../assets/images/search-not-found.png';import start_conversion from'../../../assets/images/start-conversion.jpg';import{Picker}from'emoji-mart';import{CALL,STATUS,PROFILE,EricaHughes,VincentPorter,Active,ChataApp_p1,ChataApp_p2,Following,Follower,MarkJecno,Send}from'../../../constant';var Chat=function Chat(props){var dispatch=useDispatch();var allMembers=useSelector(function(content){return content.ChatApp.allMembers;});var chats=useSelector(function(content){return content.ChatApp.chats;});var selectedUser=useSelector(function(content){return content.ChatApp.selectedUser;});var currentUser=useSelector(function(content){return content.ChatApp.currentUser;});var online=useSelector(function(content){return content.ChatApp.online;});var members=useSelector(function(content){return content.ChatApp.members;});var _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchKeyword=_useState2[0],setSearchKeyword=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),messageInput=_useState4[0],setMessageInput=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showEmojiPicker=_useState6[0],setShowEmojiPicker=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),menuToggle=_useState8[0],setMenuToggle=_useState8[1];var _useState9=useState('1'),_useState10=_slicedToArray(_useState9,2),activeTab=_useState10[0],setActiveTab=_useState10[1];var images=require.context('../../../assets/images',true);useEffect(function(){dispatch(watchfetchChatMember());dispatch(watchfetchChat());},[dispatch]);var dynamicImage=function dynamicImage(image){return images(\"./\".concat(image));};var toggleEmojiPicker=function toggleEmojiPicker(){setShowEmojiPicker(!showEmojiPicker);};var addEmoji=function addEmoji(emoji){var text=\"\".concat(messageInput).concat(emoji.native);setShowEmojiPicker(false);setMessageInput(text);};var changeChatClick=function changeChatClick(e,selectedUserId){handleSearchKeyword('');var currentUserId=currentUser.id;var currentChat=chats.find(function(x){return x.users.includes(currentUser.id)&&x.users.includes(selectedUserId);});if(currentChat){dispatch(changeChat(selectedUserId));}else{dispatch({type:CREATE_CHAT_WATCHER,currentUserId:currentUserId,selectedUserId:selectedUserId,chats:chats});}};var handleSearchKeyword=function handleSearchKeyword(keyword){setSearchKeyword(keyword);dispatch(searchMember(keyword));};var handleMessageChange=function handleMessageChange(message){setMessageInput(message);};var handleMessagePress=function handleMessagePress(e){if(e.key===\"Enter\"||e===\"send\"){var container=document.querySelector(\".chat-history\");setTimeout(function(){container.scrollBy({top:200,behavior:'smooth'});},310);var currentUserId=currentUser.id;var selectedUserId=selectedUser.id;var selectedUserName=selectedUser.name;if(messageInput.length>0){dispatch({type:SEND_MESSAGE_WATCHER,currentUserId:currentUserId,selectedUserId:selectedUserId,messageInput:messageInput,chats:chats,online:online});setMessageInput('');setTimeout(function(){var replyMessage=\"Hey This is \"+selectedUserName+\", Sorry I busy right now, I will text you later\";if(selectedUser.online===true)document.querySelector(\".status-circle\").classList.add('online');selectedUser.online=true;dispatch({type:REPLY_MESSAGE_WATCHER,currentUserId:currentUserId,selectedUserId:selectedUserId,replyMessage:replyMessage,chats:chats,online:online});},5000);}}};var chatMenuToggle=function chatMenuToggle(){setMenuToggle(!menuToggle);};var selectedChat=allMembers&&chats&&selectedUser?chats.find(function(x){return x.users.includes(currentUser.id)&&x.users.includes(selectedUser.id);}):null;var activeChat=0;if(selectedUser!=null)activeChat=selectedUser.id;return allMembers&&chats&&selectedUser?/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(Breadcrumb,{parent:\"Apps\",title:\"Chat App\"}),/*#__PURE__*/React.createElement(Container,{fluid:true},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{sm:\"12\",className:\"call-chat-sidebar\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardBody,{className:\"chat-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"chat-box\"},/*#__PURE__*/React.createElement(\"div\",{className:\"chat-left-aside\"},/*#__PURE__*/React.createElement(\"div\",{className:\"media\"},/*#__PURE__*/React.createElement(Media,{src:dynamicImage(currentUser.thumb),className:\"rounded-circle user-image\",alt:\"\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"about\"},/*#__PURE__*/React.createElement(\"div\",{className:\"name f-w-600\"},currentUser.name),/*#__PURE__*/React.createElement(\"div\",{className:\"status\"},currentUser.status))),/*#__PURE__*/React.createElement(\"div\",{className:\"people-list\"},/*#__PURE__*/React.createElement(\"div\",{className:\"search\"},/*#__PURE__*/React.createElement(Form,{className:\"theme-form\"},/*#__PURE__*/React.createElement(FormGroup,{className:\"form-group\"},/*#__PURE__*/React.createElement(Input,{className:\"form-control\",type:\"text\",placeholder:\"search\",defaultValue:searchKeyword,onChange:function onChange(e){return handleSearchKeyword(e.target.value);}}),/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-search\"})))),members.length>0?/*#__PURE__*/React.createElement(\"ul\",{className:\"list\"},members.filter(function(x){return x.id!==currentUser.id;}).map(function(item,i){return/*#__PURE__*/React.createElement(\"li\",{className:\"clearfix \".concat(activeChat===item.id?'active':''),key:i,onClick:function onClick(e){return changeChatClick(e,item.id);}},/*#__PURE__*/React.createElement(\"img\",{src:dynamicImage(item.thumb),className:\"rounded-circle user-image\",alt:\"\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"status-circle \".concat(item.online===true?'online':'offline')}),/*#__PURE__*/React.createElement(\"div\",{className:\"about\"},/*#__PURE__*/React.createElement(\"div\",{className:\"name\"},item.name),/*#__PURE__*/React.createElement(\"div\",{className:\"status\"},item.status)));})):/*#__PURE__*/React.createElement(Media,{className:\"img-fluid m-auto\",src:errorImg,alt:\"\"}))))))),/*#__PURE__*/React.createElement(Col,{className:\"call-chat-body\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardBody,{className:\"p-0\"},/*#__PURE__*/React.createElement(Row,{className:\"chat-box\"},/*#__PURE__*/React.createElement(Col,{className:\"pr-0 chat-right-aside\"},/*#__PURE__*/React.createElement(\"div\",{className:\"chat\"},/*#__PURE__*/React.createElement(\"div\",{className:\"chat-header clearfix\"},/*#__PURE__*/React.createElement(Media,{src:dynamicImage(selectedUser.thumb),className:\"rounded-circle\",alt:\"\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"about\"},/*#__PURE__*/React.createElement(\"div\",{className:\"name\"},selectedUser.name),/*#__PURE__*/React.createElement(\"div\",{className:\"status digits\"},selectedUser.online?'online':selectedUser.lastSeenDate)),/*#__PURE__*/React.createElement(\"ul\",{className:\"list-inline float-left float-sm-right chat-menu-icons\"},/*#__PURE__*/React.createElement(\"li\",{className:\"list-inline-item\"},/*#__PURE__*/React.createElement(\"a\",{href:\"#javascript\"},/*#__PURE__*/React.createElement(\"i\",{className:\"icon-search\"}))),/*#__PURE__*/React.createElement(\"li\",{className:\"list-inline-item\"},/*#__PURE__*/React.createElement(\"a\",{href:\"#javascript\"},/*#__PURE__*/React.createElement(\"i\",{className:\"icon-clip\"}))),/*#__PURE__*/React.createElement(\"li\",{className:\"list-inline-item\"},/*#__PURE__*/React.createElement(\"a\",{href:\"#javascript\"},/*#__PURE__*/React.createElement(\"i\",{className:\"icon-headphone-alt\"}))),/*#__PURE__*/React.createElement(\"li\",{className:\"list-inline-item\"},/*#__PURE__*/React.createElement(\"a\",{href:\"#javascript\"},/*#__PURE__*/React.createElement(\"i\",{className:\"icon-video-camera\"}))),/*#__PURE__*/React.createElement(\"li\",{className:\"list-inline-item toogle-bar\",onClick:function onClick(){return chatMenuToggle();}},/*#__PURE__*/React.createElement(\"a\",{href:\"#javascript\"},/*#__PURE__*/React.createElement(\"i\",{className:\"icon-menu\"}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"chat-history chat-msg-box custom-scrollbar\"},/*#__PURE__*/React.createElement(\"ul\",null,selectedChat.messages.length>0?selectedChat.messages.map(function(item,index){var participators=allMembers.chats.find(function(x){return x.id===item.sender;});return/*#__PURE__*/React.createElement(\"li\",{key:index,className:\"clearfix\"},/*#__PURE__*/React.createElement(\"div\",{className:\"message my-message \".concat(item.sender!==currentUser.id?'':'float-right')},/*#__PURE__*/React.createElement(Media,{src:dynamicImage(participators.thumb),className:\"rounded-circle \".concat(item.sender!==currentUser.id?'float-left':'float-right',\" chat-user-img img-30\"),alt:\"\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"message-data text-right\"},/*#__PURE__*/React.createElement(\"span\",{className:\"message-data-time\"},item.time)),item.text));}):/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Media,{className:\"img-fluid\",src:start_conversion,alt:\"start conversion \"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"chat-message clearfix\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},showEmojiPicker?/*#__PURE__*/React.createElement(Picker,{set:\"apple\",emojiSize:30,onSelect:addEmoji}):null),/*#__PURE__*/React.createElement(Col,{xl:\"12\",className:\"d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"smiley-box bg-primary\"},/*#__PURE__*/React.createElement(\"div\",{className:\"picker\",onClick:function onClick(){return toggleEmojiPicker();}},/*#__PURE__*/React.createElement(Media,{src:require('../../../assets/images/smiley.png'),alt:\"\"}))),/*#__PURE__*/React.createElement(InputGroup,{className:\"text-box\"},/*#__PURE__*/React.createElement(Input,{type:\"text\",className:\"form-control input-txt-bx\",placeholder:\"Type a message......\",value:messageInput,onKeyPress:function onKeyPress(e){return handleMessagePress(e);},onChange:function onChange(e){return handleMessageChange(e.target.value);}}),/*#__PURE__*/React.createElement(InputGroupAddon,{addonType:\"append\"},/*#__PURE__*/React.createElement(Button,{color:\"primary\",onClick:function onClick(){return handleMessagePress('send');}},Send)))))))),/*#__PURE__*/React.createElement(Col,{className:\"pl-0 chat-menu \".concat(menuToggle?'show':'')},/*#__PURE__*/React.createElement(Nav,{tabs:true,className:\"nav  border-tab nav-primary\"},/*#__PURE__*/React.createElement(NavItem,{id:\"myTab\",role:\"tablist\"},/*#__PURE__*/React.createElement(NavLink,{tag:\"a\",href:\"#javascript\",className:activeTab==='1'?'active':'',onClick:function onClick(){return setActiveTab('1');}},CALL)),/*#__PURE__*/React.createElement(NavItem,{id:\"myTab\",role:\"tablist\"},/*#__PURE__*/React.createElement(NavLink,{tag:\"a\",href:\"#javascript\",className:activeTab==='2'?'active':'',onClick:function onClick(){return setActiveTab('2');}},STATUS)),/*#__PURE__*/React.createElement(NavItem,{id:\"myTab\",role:\"tablist\"},/*#__PURE__*/React.createElement(NavLink,{tag:\"a\",href:\"#javascript\",className:activeTab==='3'?'active':'',onClick:function onClick(){return setActiveTab('3');}},PROFILE))),/*#__PURE__*/React.createElement(TabContent,{activeTab:activeTab},/*#__PURE__*/React.createElement(TabPane,{tabId:\"1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"people-list\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"list digits custom-scrollbar\"},/*#__PURE__*/React.createElement(\"li\",{className:\"clearfix\"},/*#__PURE__*/React.createElement(Media,{className:\"rounded-circle user-image\",src:four,alt:\"\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"about\"},/*#__PURE__*/React.createElement(\"div\",{className:\"name\"},EricaHughes),/*#__PURE__*/React.createElement(\"div\",{className:\"status\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-share font-success\"}),\"  \",\"5 May, 4:40 PM\"))),/*#__PURE__*/React.createElement(\"li\",{className:\"clearfix\"},/*#__PURE__*/React.createElement(Media,{className:\"rounded-circle user-image mt-0\",src:one,alt:\"\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"about\"},/*#__PURE__*/React.createElement(\"div\",{className:\"name\"},VincentPorter,/*#__PURE__*/React.createElement(\"div\",{className:\"status\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-reply font-danger\"}),\"  \",\"5 May, 5:30 PM\")))),allMembers.chats.filter(function(x){return x.id!==currentUser.id;}).map(function(member,i){return/*#__PURE__*/React.createElement(\"li\",{className:\"clearfix\",key:i,onClick:function onClick(e){return changeChatClick(e,member.id);}},/*#__PURE__*/React.createElement(Media,{src:dynamicImage(member.thumb),className:\"rounded-circle user-image\",alt:\"\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"about\"},/*#__PURE__*/React.createElement(\"div\",{className:\"name\"},member.name),/*#__PURE__*/React.createElement(\"div\",{className:\"status\"},member.reply,member.status)));})))),/*#__PURE__*/React.createElement(TabPane,{tabId:\"2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"people-list\"},/*#__PURE__*/React.createElement(\"div\",{className:\"search\"},/*#__PURE__*/React.createElement(Form,{className:\"theme-form\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Input,{className:\"form-control\",type:\"text\",placeholder:\"Write Status...\"}),/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-pencil\"}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"status\"},/*#__PURE__*/React.createElement(\"p\",{className:\"font-dark\"},Active),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"p\",null,ChataApp_p1,/*#__PURE__*/React.createElement(\"i\",{className:\"icofont icofont-emo-heart-eyes font-danger f-20\"}),/*#__PURE__*/React.createElement(\"i\",{className:\"icofont icofont-emo-heart-eyes font-danger f-20 m-l-5\"})),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"p\",null,ChataApp_p2,/*#__PURE__*/React.createElement(\"i\",{className:\"icofont icofont-emo-rolling-eyes font-success f-20\"})))),/*#__PURE__*/React.createElement(TabPane,{tabId:\"3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"user-profile\"},/*#__PURE__*/React.createElement(\"div\",{className:\"image\"},/*#__PURE__*/React.createElement(\"div\",{className:\"avatar text-center\"},/*#__PURE__*/React.createElement(Media,{body:true,alt:\"\",src:two})),/*#__PURE__*/React.createElement(\"div\",{className:\"icon-wrapper\"},/*#__PURE__*/React.createElement(\"i\",{className:\"icofont icofont-pencil-alt-5\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"user-content text-center\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"text-uppercase\"},MarkJecno),/*#__PURE__*/React.createElement(\"div\",{className:\"social-media\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"list-inline\"},/*#__PURE__*/React.createElement(\"li\",{className:\"list-inline-item\"},/*#__PURE__*/React.createElement(\"a\",{href:\"#javascript\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-facebook\"}))),/*#__PURE__*/React.createElement(\"li\",{className:\"list-inline-item\"},/*#__PURE__*/React.createElement(\"a\",{href:\"#javascript\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-google-plus\"}))),/*#__PURE__*/React.createElement(\"li\",{className:\"list-inline-item\"},/*#__PURE__*/React.createElement(\"a\",{href:\"#javascript\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-twitter\"}))),/*#__PURE__*/React.createElement(\"li\",{className:\"list-inline-item\"},/*#__PURE__*/React.createElement(\"a\",{href:\"#javascript\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-instagram\"}))),/*#__PURE__*/React.createElement(\"li\",{className:\"list-inline-item\"},/*#__PURE__*/React.createElement(\"a\",{href:\"#javascript\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-rss\"}))))),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"follow text-center\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{className:\"border-right\"},/*#__PURE__*/React.createElement(\"span\",null,Following),/*#__PURE__*/React.createElement(\"div\",{className:\"follow-num\"},\"236k\")),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"span\",null,Follower),/*#__PURE__*/React.createElement(\"div\",{className:\"follow-num\"},\"3691k\")))),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"text-center digits\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0\"},\"Mark.jecno23@gmail.com\"),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0\"},\"+91 365 - 658 - 1236\"),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0\"},\"Fax: 123-4560\")))))))))))))):/*#__PURE__*/React.createElement(\"div\",{className:\"loading\"});};export default Chat;","map":{"version":3,"sources":["/Users/tola/Downloads/Elites/elitesDemo/src/components/application/chat-app/index.jsx"],"names":["React","useState","useEffect","Fragment","Breadcrumb","Container","Row","Col","Card","CardBody","Media","Form","FormGroup","Input","InputGroup","InputGroupAddon","Button","Nav","NavItem","NavLink","TabPane","TabContent","SEND_MESSAGE_WATCHER","REPLY_MESSAGE_WATCHER","CREATE_CHAT_WATCHER","useSelector","useDispatch","changeChat","searchMember","watchfetchChatMember","watchfetchChat","four","one","two","errorImg","start_conversion","Picker","CALL","STATUS","PROFILE","EricaHughes","VincentPorter","Active","ChataApp_p1","ChataApp_p2","Following","Follower","MarkJecno","Send","Chat","props","dispatch","allMembers","content","ChatApp","chats","selectedUser","currentUser","online","members","searchKeyword","setSearchKeyword","messageInput","setMessageInput","showEmojiPicker","setShowEmojiPicker","menuToggle","setMenuToggle","activeTab","setActiveTab","images","require","context","dynamicImage","image","toggleEmojiPicker","addEmoji","emoji","text","native","changeChatClick","e","selectedUserId","handleSearchKeyword","currentUserId","id","currentChat","find","x","users","includes","type","keyword","handleMessageChange","message","handleMessagePress","key","container","document","querySelector","setTimeout","scrollBy","top","behavior","selectedUserName","name","length","replyMessage","classList","add","chatMenuToggle","selectedChat","activeChat","thumb","status","target","value","filter","map","item","i","lastSeenDate","messages","index","participators","sender","time","member","reply"],"mappings":"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","sourcesContent":["import React,{useState,useEffect, Fragment} from 'react';\nimport Breadcrumb from '../../../layout/breadcrumb'\nimport {Container,Row,Col,Card,CardBody,Media,Form,FormGroup,Input,InputGroup,InputGroupAddon,Button,Nav,NavItem,NavLink,TabPane,TabContent} from 'reactstrap'\nimport { SEND_MESSAGE_WATCHER,REPLY_MESSAGE_WATCHER, CREATE_CHAT_WATCHER} from '../../../redux/actionTypes'\nimport { useSelector, useDispatch } from 'react-redux'; \nimport { changeChat,searchMember,watchfetchChatMember,watchfetchChat} from '../../../redux/chap-app/action'\nimport four from '../../../assets/images/user/4.jpg';\nimport one from '../../../assets/images/user/1.jpg';\nimport two from '../../../assets/images/user/2.png';\nimport errorImg from '../../../assets/images/search-not-found.png';\nimport start_conversion from '../../../assets/images/start-conversion.jpg';\nimport {Picker} from 'emoji-mart'\nimport {CALL,STATUS,PROFILE,EricaHughes,VincentPorter,Active,ChataApp_p1,ChataApp_p2,Following,Follower,MarkJecno,Send} from '../../../constant'\n\nconst Chat = (props) =>  {\n\n    const dispatch = useDispatch()\n    const allMembers = useSelector(content => content.ChatApp.allMembers);\n    const chats = useSelector(content => content.ChatApp.chats);\n    const selectedUser = useSelector(content => content.ChatApp.selectedUser);\n    const currentUser = useSelector(content => content.ChatApp.currentUser);\n    const online = useSelector(content => content.ChatApp.online);\n    const members = useSelector(content => content.ChatApp.members);\n    const [searchKeyword, setSearchKeyword] = useState('');\n    const [messageInput, setMessageInput] = useState('');\n    const [showEmojiPicker,setShowEmojiPicker] = useState(false)\n    const [menuToggle, setMenuToggle] = useState(false);\n    const [activeTab, setActiveTab] = useState('1');\n\n    var images = require.context('../../../assets/images', true);\n\n    useEffect(() => {\n        dispatch(watchfetchChatMember())\n        dispatch(watchfetchChat())\n    }, [dispatch]);\n    \n    const dynamicImage = (image) => {\n        return images(`./${image}`);\n    }\n    \n    const toggleEmojiPicker = () => {\n        setShowEmojiPicker(!showEmojiPicker);\n    }\n  \n    const addEmoji = (emoji) =>  {\n        const text = `${messageInput}${emoji.native}`;\n        setShowEmojiPicker(false);\n        setMessageInput(text)\n    }\n\n    const changeChatClick = (e, selectedUserId) => {\n        handleSearchKeyword('');\n        const currentUserId = currentUser.id\n        const currentChat = chats.find(x => x.users.includes(currentUser.id) && x.users.includes(selectedUserId))\n        if (currentChat) {\n            dispatch(changeChat(selectedUserId));\n        } else {\n            dispatch({type : CREATE_CHAT_WATCHER , currentUserId, selectedUserId, chats})\n        }\n    }\n\n    const handleSearchKeyword = (keyword) => {\n        setSearchKeyword(keyword)\n        dispatch(searchMember(keyword))\n    }\n\n    const handleMessageChange = (message) => {\n        setMessageInput(message)\n    }\n\n    const handleMessagePress = (e) => {\n        if (e.key === \"Enter\" || e === \"send\") {\n\n            var container = document.querySelector(\".chat-history\");\n            setTimeout(function () {\n                container.scrollBy({ top: 200, behavior: 'smooth' });\n            }, 310)\n\n            let currentUserId = currentUser.id;\n            let selectedUserId = selectedUser.id;\n            let selectedUserName = selectedUser.name;\n           \n            if (messageInput.length > 0) {\n                dispatch({type : SEND_MESSAGE_WATCHER, currentUserId, selectedUserId, messageInput, chats, online})\n                setMessageInput('');\n                setTimeout(() => {\n                    const replyMessage = \"Hey This is \" + selectedUserName + \", Sorry I busy right now, I will text you later\";\n                    if (selectedUser.online === true)\n                        document.querySelector(\".status-circle\").classList.add('online');\n                        selectedUser.online = true;\n                        dispatch({type : REPLY_MESSAGE_WATCHER,currentUserId, selectedUserId, replyMessage, chats, online})\n                }, 5000);\n            }\n        }\n    }\n\n    const chatMenuToggle = () => {\n        setMenuToggle(!menuToggle)\n    }\n\n    const selectedChat = (allMembers && chats && selectedUser) ?\n    chats.find(x => x.users.includes(currentUser.id) && x.users.includes(selectedUser.id)) :\n    null;\n    \n\n    var activeChat = 0;\n    if (selectedUser != null)\n        activeChat = selectedUser.id;\n\n    return (\n        (allMembers && chats && selectedUser) ?\n        <Fragment>\n        <Breadcrumb parent=\"Apps\" title=\"Chat App\"/>\n        <Container fluid={true}>\n            <Row>\n              <Col sm=\"12\" className=\"call-chat-sidebar\">\n                <Card>\n                  <CardBody className=\"chat-body\">\n                    <div className=\"chat-box\">\n                      <div className=\"chat-left-aside\">\n                        <div className=\"media\">\n                        <Media  src={dynamicImage(currentUser.thumb)} className=\"rounded-circle user-image\" alt=\"\" />\n                        <div className=\"about\">\n                            <div className=\"name f-w-600\">{currentUser.name}</div>\n                            <div className=\"status\">\n                                {currentUser.status}\n                            </div>\n                        </div>\n                        </div>\n                        <div className=\"people-list\">\n                          <div className=\"search\">\n                            <Form className=\"theme-form\">\n                              <FormGroup className=\"form-group\">\n                              <Input\n                                    className=\"form-control\"\n                                    type=\"text\"\n                                    placeholder=\"search\"\n                                    defaultValue={searchKeyword}\n                                    onChange={(e) => handleSearchKeyword(e.target.value)}\n                                />\n                                <i className=\"fa fa-search\"></i>\n                              </FormGroup>\n                            </Form>\n                          </div>\n                          {members.length > 0 ?\n                            <ul className=\"list\">\n                                {members.filter(x => x.id !== currentUser.id).map((item, i) => {\n                                    return (\n                                        <li className={`clearfix ${activeChat === item.id ? 'active' : ''}`}\n                                            key={i} onClick={(e) => changeChatClick(e, item.id)} >\n                                            <img src={dynamicImage(item.thumb)} className=\"rounded-circle user-image\" alt=\"\" />\n                                            <div className={`status-circle ${item.online === true ? 'online' : 'offline'}`}></div>\n                                            <div className=\"about\">\n                                                <div className=\"name\">{item.name}</div>\n                                                <div className=\"status\">\n                                                    {item.status}\n                                                </div>\n                                            </div>\n                                        </li>);\n                                })\n                                }\n                            </ul>\n                            :  \n                            <Media className=\"img-fluid m-auto\" src={errorImg} alt=\"\"/>\n                            }\n                        </div>\n                      </div>\n                    </div>\n                  </CardBody>\n                </Card>\n              </Col>\n              <Col className=\"call-chat-body\">\n                <Card>\n                  <CardBody className=\"p-0\">\n                    <Row className=\"chat-box\">\n                      <Col className=\"pr-0 chat-right-aside\">\n                        <div className=\"chat\">\n                         <div className=\"chat-header clearfix\">\n                            <Media src={dynamicImage(selectedUser.thumb)} className=\"rounded-circle\" alt=\"\" />\n                            <div className=\"about\">\n                                <div className=\"name\">\n                                    {selectedUser.name}\n                                </div>\n                                <div className=\"status digits\" >\n                                    {selectedUser.online ? 'online' : selectedUser.lastSeenDate}\n                                </div>\n                            </div>\n                            <ul className=\"list-inline float-left float-sm-right chat-menu-icons\">\n                                <li className=\"list-inline-item\"><a href=\"#javascript\"><i className=\"icon-search\"></i></a></li>\n                                <li className=\"list-inline-item\"><a href=\"#javascript\"><i className=\"icon-clip\"></i></a></li>\n                                <li className=\"list-inline-item\"><a href=\"#javascript\"><i className=\"icon-headphone-alt\"></i></a></li>\n                                <li className=\"list-inline-item\"><a href=\"#javascript\"><i className=\"icon-video-camera\"></i></a></li>\n                                <li className=\"list-inline-item toogle-bar\" onClick={() => chatMenuToggle()}><a href=\"#javascript\"><i className=\"icon-menu\"></i></a></li>\n                            </ul>\n                        </div>\n                        <div className=\"chat-history chat-msg-box custom-scrollbar\" >\n                            <ul>\n                                {selectedChat.messages.length > 0 ? selectedChat.messages.map((item, index) => {\n                                    const participators = allMembers.chats.find(x => x.id === item.sender);\n                                    return (\n                                        <li key={index} className=\"clearfix\">\n                                            <div className={`message my-message ${item.sender !== currentUser.id ? '' : 'float-right'}`}>\n                                                <Media src={dynamicImage(participators.thumb)}\n                                                    className={`rounded-circle ${item.sender !== currentUser.id ? 'float-left' : 'float-right'} chat-user-img img-30`} alt=\"\" />\n                                                <div className=\"message-data text-right\">\n                                                    <span className=\"message-data-time\">{item.time}</span>\n                                                </div>\n                                                {item.text}\n                                            </div>\n                                        </li>\n                                    );\n                                }) :\n                                    <div>\n                                        <Media className=\"img-fluid\" src={start_conversion} alt=\"start conversion \" />\n                                    </div>\n                                }\n                            </ul>\n                        </div>\n                          <div className=\"chat-message clearfix\">\n                            <Row>\n                            <div className=\"mb-2\">\n                            {showEmojiPicker ? (\n                                    <Picker set=\"apple\" emojiSize={30} onSelect={addEmoji} />\n                             ) : null}\n                             </div>\n                              <Col xl=\"12\" className=\"d-flex\">\n                                <div className=\"smiley-box bg-primary\">\n                                \n                                    <div className=\"picker\" onClick={() => toggleEmojiPicker()}>\n                                    <Media src={require('../../../assets/images/smiley.png')}  alt=\"\"/>\n                                    </div>\n\n                                </div>\n                                <InputGroup className=\"text-box\">\n                                    <Input\n                                        type=\"text\"\n                                        className=\"form-control input-txt-bx\"\n                                        placeholder=\"Type a message......\"\n                                        value={messageInput}\n                                        onKeyPress={(e) => handleMessagePress(e)}\n                                        onChange={(e) => handleMessageChange(e.target.value)}\n                                    />\n                                    <InputGroupAddon addonType=\"append\">\n                                        <Button color=\"primary\" onClick={() => handleMessagePress('send')} >{Send}</Button>\n                                    </InputGroupAddon>\n                                </InputGroup>\n                              </Col>\n                            </Row>\n                          </div>\n                        </div>\n                      </Col>\n                      <Col className={`pl-0 chat-menu ${menuToggle ? 'show' : ''}`}>\n                            <Nav tabs className=\"nav  border-tab nav-primary\">\n                                <NavItem  id=\"myTab\" role=\"tablist\">\n                                    <NavLink tag=\"a\" href=\"#javascript\" className={activeTab === '1' ? 'active' : ''} onClick={() => setActiveTab('1')}>\n                                        {CALL}\n                                    </NavLink>\n                                </NavItem>\n                                <NavItem  id=\"myTab\" role=\"tablist\">\n                                    <NavLink tag=\"a\" href=\"#javascript\" className={activeTab === '2' ? 'active' : ''} onClick={() => setActiveTab('2')}>\n                                        {STATUS}\n                                    </NavLink>\n                                </NavItem>\n                                <NavItem  id=\"myTab\" role=\"tablist\">\n                                    <NavLink tag=\"a\" href=\"#javascript\" className={activeTab === '3' ? 'active' : ''} onClick={() => setActiveTab('3')}>\n                                        {PROFILE}\n                                    </NavLink>\n                                </NavItem>\n                            </Nav>\n                            <TabContent activeTab={activeTab}>\n                                <TabPane tabId=\"1\">\n                                    <div className=\"people-list\">\n                                        <ul className=\"list digits custom-scrollbar\">\n                                            <li className=\"clearfix\"><Media className=\"rounded-circle user-image\" src={four} alt=\"\" />\n                                                <div className=\"about\">\n                                                    <div className=\"name\">{EricaHughes}</div>\n                                                    <div className=\"status\"><i className=\"fa fa-share font-success\"></i>  {\"5 May, 4:40 PM\"}</div>\n                                                </div>\n                                            </li>\n                                            <li className=\"clearfix\"><Media className=\"rounded-circle user-image mt-0\" src={one} alt=\"\" />\n                                                <div className=\"about\">\n                                                    <div className=\"name\">{VincentPorter}\n                                                        <div className=\"status\">\n                                                        <i className=\"fa fa-reply font-danger\"></i>  {\"5 May, 5:30 PM\"}\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </li>\n                                            {allMembers.chats.filter(x => x.id !== currentUser.id).map((member, i) =>\n                                                <li className=\"clearfix\" key={i} onClick={(e) => changeChatClick(e, member.id)}>\n                                                    <Media src={dynamicImage(member.thumb)} className=\"rounded-circle user-image\" alt=\"\" />\n                                                    <div className=\"about\">\n                                                        <div className=\"name\">{member.name}</div>\n                                                        <div className=\"status\">\n                                                            {member.reply}\n                                                            {member.status}\n                                                        </div>\n                                                    </div>\n                                                </li>\n                                            )}\n                                        </ul>\n                                    </div>\n                                </TabPane>\n                                <TabPane tabId=\"2\">\n                                    <div className=\"people-list\">\n                                        <div className=\"search\">\n                                            <Form className=\"theme-form\">\n                                                <FormGroup>\n                                                    <Input className=\"form-control\" type=\"text\" placeholder=\"Write Status...\" /><i className=\"fa fa-pencil\"></i>\n                                                </FormGroup>\n                                            </Form>\n                                        </div>\n                                    </div>\n                                    <div className=\"status\">\n                                        <p className=\"font-dark\">{Active}</p>\n                                        <hr />\n                                        <p>\n                                            {ChataApp_p1}\n                                            <i className=\"icofont icofont-emo-heart-eyes font-danger f-20\"></i>\n                                            <i className=\"icofont icofont-emo-heart-eyes font-danger f-20 m-l-5\"></i>\n                                        </p>\n                                        <hr />\n                                        <p>{ChataApp_p2}<i className=\"icofont icofont-emo-rolling-eyes font-success f-20\"></i></p>\n                                    </div>\n                                </TabPane>\n                                <TabPane tabId=\"3\">\n                                    <div className=\"user-profile\">\n                                        <div className=\"image\">\n                                            <div className=\"avatar text-center\"><Media body alt=\"\" src={two} /></div>\n                                            <div className=\"icon-wrapper\"><i className=\"icofont icofont-pencil-alt-5\"></i></div>\n                                        </div>\n                                        <div className=\"user-content text-center\">\n                                            <h5 className=\"text-uppercase\">{MarkJecno}</h5>\n                                            <div className=\"social-media\">\n                                                <ul className=\"list-inline\">\n                                                    <li className=\"list-inline-item\"><a href=\"#javascript\"><i className=\"fa fa-facebook\"></i></a></li>\n                                                    <li className=\"list-inline-item\"><a href=\"#javascript\"><i className=\"fa fa-google-plus\"></i></a></li>\n                                                    <li className=\"list-inline-item\"><a href=\"#javascript\"><i className=\"fa fa-twitter\"></i></a></li>\n                                                    <li className=\"list-inline-item\"><a href=\"#javascript\"><i className=\"fa fa-instagram\"></i></a></li>\n                                                    <li className=\"list-inline-item\"><a href=\"#javascript\"><i className=\"fa fa-rss\"></i></a></li>\n                                                </ul>\n                                            </div>\n                                            <hr />\n                                            <div className=\"follow text-center\">\n                                                <Row>\n                                                    <Col className=\"border-right\"><span>{Following}</span>\n                                                        <div className=\"follow-num\">{\"236k\"}</div>\n                                                    </Col>\n                                                    <Col><span>{Follower}</span>\n                                                        <div className=\"follow-num\">{\"3691k\"}</div>\n                                                    </Col>\n                                                </Row>\n                                            </div>\n                                            <hr />\n                                            <div className=\"text-center digits\">\n                                                <p className=\"mb-0\">{\"Mark.jecno23@gmail.com\"}</p>\n                                                <p className=\"mb-0\">{\"+91 365 - 658 - 1236\"}</p>\n                                                <p className=\"mb-0\">{\"Fax: 123-4560\"}</p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </TabPane>\n                            </TabContent>\n                        </Col>\n                    </Row>\n                  </CardBody>\n                </Card>\n              </Col>\n            </Row>\n          </Container>\n        </Fragment>\n        : \n        <div className=\"loading\"></div>\n    );\n}\n\nexport default Chat;"]},"metadata":{},"sourceType":"module"}